<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="growR">
<title>Calibration • growR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calibration">
<meta property="og:description" content="growR">
<meta property="og:image" content="https://kuadrat.github.io/growR/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">growR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/growR.html">Get started</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="../articles/calibration.html">Calibration</a>
    <a class="external-link dropdown-item" href="https://github.com/kuadrat/growR/tree/master/vignettes/figs/calibration_in_depth.pdf">Calibration - In depth</a>
    <a class="dropdown-item" href="../articles/parameter_descriptions.html">Parameter Descriptions</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/kuadrat/growR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Calibration</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/kuadrat/growR/blob/HEAD/vignettes/calibration.Rmd" class="external-link"><code>vignettes/calibration.Rmd</code></a></small>
      <div class="d-none name"><code>calibration.Rmd</code></div>
    </div>

    
    
<p>This vignette outlines the tools provided by <code>growR</code> for
model calibration. It focuses on the practical aspects of which
functions to call when. For an in-depth discussion about the calibration
procedure as a whole, see <a href="https://github.com/kuadrat/growR/blob/master/vignettes/figs/calibration_in_depth.pdf" target="_blank" class="external-link">the respective article</a>.</p>
<div class="section level2">
<h2 id="prerequisites">Prerequisites<a class="anchor" aria-label="anchor" href="#prerequisites"></a>
</h2>
<p>We cannot calibrate anything without some reference data for which we
want to identify ideal model parameters. For the purpose of this
tutorial, we are going to make use of the example data provided with the
package. If you use your own data, be sure that it adheres to the data
file format as outlined in <code><a href="../reference/load_measured_data.html">load_measured_data()</a></code>.</p>
<p>Furthermore, we need everything that’s also required to run a
simulation: weather input, a parameter file and, optionally, management
data. Confer <a href="growR.html">the introductory tutorial</a> for
details. Again, we are going to use the example data here (though you
can feel free to use your own). We’ll use the same setup as <a href="growR.html">in the introductory tutorial</a>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">working_dir</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"growR_calibration_tutorial"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">working_dir</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="va">working_dir</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/kuadrat/growR" class="external-link">growR</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; +---------------------------------+</span></span>
<span><span class="co">#&gt; | Welcome to growR Version 1.1.0! |</span></span>
<span><span class="co">#&gt; +---------------------------------+</span></span>
<span><span class="fu"><a href="../reference/setup_directory.html">setup_directory</a></span><span class="op">(</span><span class="va">working_dir</span>, force <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [INFO]Initialized directory structure in `/tmp/RtmpKK9zoo/growR_calibration_tutorial`.</span></span>
<span><span class="co">#&gt; [INFO]Copying `/home/runner/work/_temp/Library/growR/extdata/posieux_weather.txt` to `/tmp/RtmpKK9zoo/growR_calibration_tutorial/input/`.</span></span>
<span><span class="co">#&gt; [INFO]Copying `/home/runner/work/_temp/Library/growR/extdata/posieux_parameters.csv` to `/tmp/RtmpKK9zoo/growR_calibration_tutorial/input/`.</span></span>
<span><span class="co">#&gt; [INFO]Copying `/home/runner/work/_temp/Library/growR/extdata/posieux_management1.txt` to `/tmp/RtmpKK9zoo/growR_calibration_tutorial/input/`.</span></span>
<span><span class="co">#&gt; [INFO]Copying `/home/runner/work/_temp/Library/growR/extdata/posieux_management2.txt` to `/tmp/RtmpKK9zoo/growR_calibration_tutorial/input/`.</span></span>
<span><span class="co">#&gt; [INFO]Copying `/home/runner/work/_temp/Library/growR/extdata/sorens_weather.txt` to `/tmp/RtmpKK9zoo/growR_calibration_tutorial/input/`.</span></span>
<span><span class="co">#&gt; [INFO]Copying `/home/runner/work/_temp/Library/growR/extdata/sorens_parameters.csv` to `/tmp/RtmpKK9zoo/growR_calibration_tutorial/input/`.</span></span>
<span><span class="co">#&gt; [INFO]Copying `/home/runner/work/_temp/Library/growR/extdata/sorens_management1.txt` to `/tmp/RtmpKK9zoo/growR_calibration_tutorial/input/`.</span></span>
<span><span class="co">#&gt; [INFO]Copying `/home/runner/work/_temp/Library/growR/extdata/sorens_management2.txt` to `/tmp/RtmpKK9zoo/growR_calibration_tutorial/input/`.</span></span>
<span><span class="co">#&gt; [INFO]Copying `/home/runner/work/_temp/Library/growR/extdata/posieux1.csv` to `/tmp/RtmpKK9zoo/growR_calibration_tutorial/data/`.</span></span>
<span><span class="co">#&gt; [INFO]Copying `/home/runner/work/_temp/Library/growR/extdata/posieux2.csv` to `/tmp/RtmpKK9zoo/growR_calibration_tutorial/data/`.</span></span>
<span><span class="co">#&gt; [INFO]Copying `/home/runner/work/_temp/Library/growR/extdata/sorens1.csv` to `/tmp/RtmpKK9zoo/growR_calibration_tutorial/data/`.</span></span>
<span><span class="co">#&gt; [INFO]Copying `/home/runner/work/_temp/Library/growR/extdata/sorens2.csv` to `/tmp/RtmpKK9zoo/growR_calibration_tutorial/data/`.</span></span>
<span><span class="co">#&gt; [INFO]Copying `/home/runner/work/_temp/Library/growR/extdata/example_config.txt` to `/tmp/RtmpKK9zoo/growR_calibration_tutorial`.</span></span>
<span><span class="co">#&gt; [INFO]Copying `/home/runner/work/_temp/Library/growR/scripts/compare.R` to `/tmp/RtmpKK9zoo/growR_calibration_tutorial`.</span></span>
<span><span class="co">#&gt; [INFO]Copied example files to respective directories.</span></span></code></pre></div>
<p>We will also already load the example configuration. For the sake of
saving on computation time in this example, we limit the simulation to
just one year. In a real-world situation, you should of course make use
of all the calibration data available to you!</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">envs</span> <span class="op">=</span> <span class="fu"><a href="../reference/read_config.html">read_config</a></span><span class="op">(</span><span class="st">"example_config.txt"</span><span class="op">)</span></span>
<span><span class="co"># We only need one run environment.</span></span>
<span><span class="va">env</span> <span class="op">=</span> <span class="va">envs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co"># Save compuation time by considering only one year</span></span>
<span><span class="va">env</span><span class="op">$</span><span class="va">years</span> <span class="op">=</span> <span class="va">env</span><span class="op">$</span><span class="va">years</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="the-parameter-scan-loop">The parameter scan loop<a class="anchor" aria-label="anchor" href="#the-parameter-scan-loop"></a>
</h2>
<p>The essential approach to finding optimized parameters for a given
site is to run and evaluate the model for many different sets of
parameters. By comparing their performance scores, we can hone in on
those parameter combinations that are promising. We then evaluate the
model with more parameter sets, now in the regions of parameter space
where we suspect good performace. We can keep doing this until we do not
seem to find better parameter sets anymore or until we are satisfied
(see <a href="https://github.com/kuadrat/growR/blob/master/vignettes/figs/calibration_in_depth.pdf" target="_blank" class="external-link">the in-depth article</a> for a much more detailed
description).</p>
<p>The three functions that facilitate this iterative procedure are
<code><a href="../reference/run_parameter_scan.html">run_parameter_scan()</a></code>, <code><a href="../reference/analyze_parameter_scan.html">analyze_parameter_scan()</a></code>
and <code><a href="../reference/plot_parameter_scan.html">plot_parameter_scan()</a></code>. The first makes it easy to carry
out model runs for many different parameter sets.
<code><a href="../reference/analyze_parameter_scan.html">analyze_parameter_scan()</a></code> then takes the output of these
model runs and compares them to a set of reference data to assign
performance scores to each run. Finally,
<code><a href="../reference/plot_parameter_scan.html">plot_parameter_scan()</a></code> visualizes these performance scores
as a function of input parameters and thus helps identify <em>good</em>
regions in parameter space.</p>
<div class="section level3">
<h3 id="running-a-parameter-scan">Running a parameter scan<a class="anchor" aria-label="anchor" href="#running-a-parameter-scan"></a>
</h3>
<p>We can define the parameter values of interest as input to
<code><a href="../reference/run_parameter_scan.html">run_parameter_scan()</a></code>. The function will then automatically
generate all possible, valid combinations of parameters and run the
model in a given configuration for each of these parameter combinations.
Given that even for relatively small parameter ranges we can end up with
a number of combinations in the order of 100, this step can become quite
calculation intensive.</p>
<p>Initially, if we have absolutely no prior knowledge about the
parameters, we have to consider all parameters across their full
possible ranges. An input for <code><a href="../reference/run_parameter_scan.html">run_parameter_scan()</a></code> might
thus look like this:</p>
<pre><code><span><span class="va">param_values</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>w_FGA <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0.25</span><span class="op">)</span>,</span>
<span>                    w_FGB <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0.25</span><span class="op">)</span>,</span>
<span>                    w_FGC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0.25</span><span class="op">)</span>,</span>
<span>                    w_FGD <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0.25</span><span class="op">)</span>,</span>
<span>                    NI <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">1</span>, <span class="fl">0.25</span><span class="op">)</span><span class="op">)</span></span></code></pre>
<p>Be sure to read the documentation of
<code><a href="../reference/run_parameter_scan.html">run_parameter_scan()</a></code> and the more detailed descriptions in
<code><a href="../reference/create_combinations.html">create_combinations()</a></code> regarding sensible construction of
<code>param_values</code>.</p>
<p>We are now ready to go:</p>
<pre><code><span><span class="va">pscan_results</span> <span class="op">=</span> <span class="fu"><a href="../reference/run_parameter_scan.html">run_parameter_scan</a></span><span class="op">(</span><span class="va">env</span>, <span class="va">param_values</span>, </span>
<span>                                   outfilename <span class="op">=</span> <span class="st">"pscan_results0.rds"</span><span class="op">)</span></span></code></pre>
<p>This might take some time to run and will store the results in a
binary format in <code>"pscan_results0.rds"</code> as well as in the
variable <code>pscan_results</code>.</p>
</div>
<div class="section level3">
<h3 id="analyzing-a-parameter-scan">Analyzing a parameter scan<a class="anchor" aria-label="anchor" href="#analyzing-a-parameter-scan"></a>
</h3>
<p>In order to evaluate the model outputs, we need to compare them to
some reference data. In our current setup, we know that the
corresponding data is stored under <code>data/</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Prepare path to reference data</span></span>
<span><span class="va">site</span> <span class="op">=</span> <span class="va">env</span><span class="op">$</span><span class="va">site_name</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">site</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "sorens1"</span></span>
<span><span class="va">datafile</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"%s.csv"</span>, <span class="va">site</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Instead of specifying the path we could also have loaded the data and
passed the data.frame as an argument to
<code><a href="../reference/analyze_parameter_scan.html">analyze_parameter_scan()</a></code>. Similarly, we can use the path to
the binary file created by our previous call to
<code><a href="../reference/run_parameter_scan.html">run_parameter_scan()</a></code> <em>or</em> just the stored object in
the variable.</p>
<pre><code><span><span class="co"># Analyze!</span></span>
<span><span class="va">analyzed</span> <span class="op">=</span> <span class="fu"><a href="../reference/analyze_parameter_scan.html">analyze_parameter_scan</a></span><span class="op">(</span><span class="va">pscan_results</span>, <span class="va">datafile</span><span class="op">)</span></span></code></pre>
<p>This shouldn’t take long to compute. You can have a look at the
output data.frame and see how well different combinations perform:</p>
<pre><code><span><span class="va">analyzed</span><span class="op">$</span><span class="va">results</span></span></code></pre>
<p>A much more intuitive way, however, is to visualize these
results:</p>
<pre><code><span><span class="fu"><a href="../reference/plot_parameter_scan.html">plot_parameter_scan</a></span><span class="op">(</span><span class="va">analyzed</span><span class="op">)</span></span></code></pre>
<p>This should create a plot similar to the following: <img src="figs/pscan.png" alt="fig"></p>
<p>We have a subplot for each combination of scanned parameter and used
metric (bias, mean absolute error MAE and root of mean-squared error
RMSE). In each subplot, we have a point for every evaluated parameter
combination.</p>
<p><code><a href="../reference/plot_parameter_scan.html">plot_parameter_scan()</a></code> puts you into a small interactive
command line interface (CLI), which allows you to highlight different
parameter combinations in the plot and display their numeric values on
the console. Refer to the on-line help (<code>?</code>) for more on how
to use this little tool.</p>
<p>From this plot we can already make out some trends:</p>
<ol style="list-style-type: decimal">
<li>(top right plot) NI clearly correlates with bias.</li>
<li>(same plot) NI values of 0.9 or 0.3 fail to produce <em>good</em>
(i.e. close to 0) bias.</li>
<li>(NI column, bottom two rows) Similarly, NI values 0.3 and 0.9 lead
to large MAE and RMSE.</li>
</ol>
<p>From this we can pin down the ranges of plausible NI values to larger
than 0.3 and smaller than 0.9.</p>
<ol start="4" style="list-style-type: decimal">
<li>(w_FGC and w_FGD columns) Parameter combinations with low amounts of
C and D clearly score better than those with large C or D.</li>
<li>(w_FGD column) The same can be said about B, but the effect is less
extreme.</li>
<li>(w_FGA column) The opposite trend is visible for A.</li>
</ol>
<p>From this we could for example narrow down w_FGA to be larger than
0.3, B to be no greater than 0.8 and C and D to be smaller than 0.5.</p>
<p>We can now do a new parameter scan with updated
<em>param_values</em>, e.g.</p>
<pre><code><span><span class="va">param_values</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>w_FGA <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">1</span>, <span class="fl">0.1</span><span class="op">)</span>,</span>
<span>                    w_FGB <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.7</span>, <span class="fl">0.1</span><span class="op">)</span>,</span>
<span>                    w_FGC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.3</span>, <span class="fl">0.1</span><span class="op">)</span>,</span>
<span>                    w_FGD <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.3</span>, <span class="fl">0.1</span><span class="op">)</span>,</span>
<span>                    NI <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.7</span>, <span class="fl">0.05</span><span class="op">)</span><span class="op">)</span></span></code></pre>
<p>Since we have narrowed down the ranges, we can afford to increase the
<em>resolution</em>, i.e. decrease the step size for the parameters.
Keep iterating this process until you’ve narrowed down the parameter
ranges to a degree that is acceptable for you.</p>
<p>The exact choice of which parameters ranges to examine is, of course,
up to you and might require some experimentation. It might, for example,
make sense to keep the functional group weights unconstrained and first
pin down NI. In other situations you might be able to make use of some
prior knowledge, e.g. a measurement of the plant composition, which
gives you a hint towards which functional groups should be prevalent.
Refer to <a href="https://github.com/kuadrat/growR/blob/master/vignettes/figs/calibration_in_depth.pdf" target="_blank" class="external-link">the in-depth guide</a> for a more rigorous
discussion.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Kevin Kramer.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
