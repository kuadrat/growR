<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Implements the ModVege grass growth model based off of Jouven et al. (2006).
This class contains model and site parameters and state variables as
attributes and has methods for running ModVege with weather and management
input.
Use the run() method to carry out a simulation for a given year. The
results are stored in the state variables in this instance and can be written
to file using write_output()."><title>ModvegeSite — ModvegeSite • growR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="ModvegeSite — ModvegeSite"><meta property="og:description" content="Implements the ModVege grass growth model based off of Jouven et al. (2006).
This class contains model and site parameters and state variables as
attributes and has methods for running ModVege with weather and management
input.
Use the run() method to carry out a simulation for a given year. The
results are stored in the state variables in this instance and can be written
to file using write_output()."><meta property="og:image" content="https://kuadrat.github.io/growR/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">growR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/growR.html">Get started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="../articles/calibration.html">Calibration</a>
    <a class="external-link dropdown-item" href="https://github.com/kuadrat/growR/tree/master/vignettes/figs/calibration_in_depth.pdf">Calibration - In depth</a>
    <a class="dropdown-item" href="../articles/parameter_descriptions.html">Parameter Descriptions</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/kuadrat/growR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>ModvegeSite</h1>
      <small class="dont-index">Source: <a href="https://github.com/kuadrat/growR/blob/HEAD/R/modvegesite.R" class="external-link"><code>R/modvegesite.R</code></a></small>
      <div class="d-none name"><code>ModvegeSite.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Implements the ModVege grass growth model based off of Jouven et al. (2006).</p>
<p>This class contains model and site parameters and state variables as
attributes and has methods for running ModVege with weather and management
input.</p>
<p>Use the <code>run()</code> method to carry out a simulation for a given year. The
results are stored in the state variables in this instance and can be written
to file using <code>write_output()</code>.</p>
    </div>


    <div class="section level2">
    <h2 id="model-variables">Model variables<a class="anchor" aria-label="anchor" href="#model-variables"></a></h2>
    <p>See Jouven et al. (2006) for a thorough description of all model variables.</p><div class="section">
<h3 id="state-variables">State Variables<a class="anchor" aria-label="anchor" href="#state-variables"></a></h3>

<ul><li><p><code>BM</code>
Standing biomass in kg DM per ha.</p></li>
<li><p><code>BMG</code>
Standing green biomass (kg DM / ha).</p></li>
<li><p><code>cBM</code>
Cumulativeley grown biomass (kg DM / ha).</p></li>
<li><p><code>dBM</code>
Daily grown biomass (kg DM / ha).</p></li>
<li><p><code>hvBM</code>
Cumulative harvested biomass (kg DM / ha).</p></li>
<li><p><code>OMD</code>
Organic matter digestibility (kg / kg).</p></li>
<li><p><code>OMDG</code>
OMD of green matter (kg / kg).</p></li>
<li><p><code>ST</code>
Temperature sum in degree Celsius days.</p></li>
<li><p><code>REP</code> Reproductive function. Gives the fraction of growth that is
assigned to reproductive growth. The remainder goes into vegetative growth.
Dimensionless.</p></li>
<li><p><code>PGRO</code>
Potential growth in kg DM / ha.</p></li>
<li><p><code>GRO</code>
Effective growth in kg DM / ha.</p></li>
<li><p><code>LAI</code>
Leaf area index, accounting for the proportion of light intercepted by the
sward. Dimensionless.</p></li>
<li><p><code>LAIGV</code>
LAI of green vegetative biomass. Dimensionless.</p></li>
<li><p><code>AET</code>
Actual evapotranspiration in mm.</p></li>
<li><p><code>WR</code>
Water reserves in mm.</p></li>
<li><p><code>ENV</code>
Function representing environmental effects on growth. Acts as a
multiplicative factor. Dimensionless.</p></li>
<li><p><code>ENVfPAR</code>
Part of ENV due to strength of incident radiation. Dimensionless.</p></li>
<li><p><code>ENVfT</code>
Part of ENV due to temperature. Dimensionless.</p></li>
<li><p><code>ENVfW</code>
Part of ENV due to water limitation. Dimensionless.</p></li>
</ul></div>

<div class="section">
<h3 id="initial-conditions">Initial conditions<a class="anchor" aria-label="anchor" href="#initial-conditions"></a></h3>

<ul><li><p><code>AgeGV</code> Age of green vegetative matter in degree Celsius days.</p></li>
<li><p><code>AgeGR</code> Age of green reproductive matter in degree Celsius days.</p></li>
<li><p><code>AgeDV</code> Age of dead vegetative matter in degree Celsius days.</p></li>
<li><p><code>AgeDR</code> Age of dead reproductive matter in degree Celsius days.</p></li>
<li><p><code>BMGV</code> biomass of GV (kg DM per ha).</p></li>
<li><p><code>BMGR</code> biomass of GR (kg DM per ha).</p></li>
<li><p><code>BMDV</code> biomass of DV (kg DM per ha).</p></li>
<li><p><code>BMDR</code> biomass of DR (kg DM per ha).</p></li>
<li><p><code>BMDR</code> biomass of DR (kg DM per ha).</p></li>
<li><p><code>SENG</code> senescence of GV (kg DM per ha).</p></li>
<li><p><code>SENG</code> senescence of GR (kg DM per ha).</p></li>
<li><p><code>ABSG</code> abscission of DV (kg DM per ha).</p></li>
<li><p><code>ABSG</code> abscission of DR (kg DM per ha).</p></li>
<li><p><code>ST</code> thermal time (degree days).</p></li>
<li><p><code>cBM</code> cumulative total biomass (kg per ha).</p></li>
</ul></div>

    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Jouven M, Carrère P, Baumont R (2006).
“Model Predicting Dynamics of Biomass, Structure and Digestibility of Herbage in Managed Permanent Pastures. 1. Model Description.”
<em>Grass and Forage Science</em>, <b>61</b>(2), 112--124.
ISSN 1365-2494, <a href="https://doi.org/10.1111/j.1365-2494.2006.00515.x" class="external-link">doi:10.1111/j.1365-2494.2006.00515.x</a>
, <a href="https://onlinelibrary.wiley.com/doi/abs/10.1111/j.1365-2494.2006.00515.x" class="external-link">https://onlinelibrary.wiley.com/doi/abs/10.1111/j.1365-2494.2006.00515.x</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="autocut.html">autocut</a></p>
<p><code><a href="start_of_growing_season_mtd.html">start_of_growing_season_mtd()</a></code>, <code><a href="start_of_growing_season.html">start_of_growing_season()</a></code></p>
<p><code>get_target_biomass()</code></p>
<p><code>ModvegeParameters$set_parameters()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="public-fields">Public fields<a class="anchor" aria-label="anchor" href="#public-fields"></a></h2>
    <p></p><div class="r6-fields"><dl><dt><code>time_step</code></dt>
<dd><p>Used time step in the model in days (untested).</p></dd>


<dt><code>state_variable_names</code></dt>
<dd><p>Vector containing the names of the model's
state variables.</p></dd>


<dt><code>n_state_variables</code></dt>
<dd><p>Number of state variables.</p></dd>


<dt><code>version</code></dt>
<dd><p>Version number of the growR package. Is written into
output files.</p></dd>


<dt><code>site_name</code></dt>
<dd><p>Name of the site to be simulated.</p></dd>


<dt><code>run_name</code></dt>
<dd><p>Name of the simulation run. Used to distinguish between
different runs at the same site.</p></dd>


<dt><code>year</code></dt>
<dd><p>Year to be simulated.</p></dd>


<dt><code>days_per_year</code></dt>
<dd><p>Number of days in this year.</p></dd>


<dt><code>j_start_of_growing_season</code></dt>
<dd><p>Index (DOY) of the day the growing season
was determined to begin.</p></dd>


<dt><code>cut_height</code></dt>
<dd><p>Height of remaining grass after cut in m.</p></dd>


<dt><code>parameters</code></dt>
<dd><p>A <a href="ModvegeParameters.html">ModvegeParameters</a> object.</p></dd>


<dt><code>determine_cut</code></dt>
<dd><p>Function used to decide whether a cut occurs on a
given DOY. Is overloaded depending on whether management data is
provided or not.</p></dd>


<dt><code>cut_DOYs</code></dt>
<dd><p>List of DOYs on which a cut occurred.</p></dd>


<dt><code>cut_during_growth_preriod</code></dt>
<dd><p>Boolean to indicate whether a cut
occurred during the growth period, in which case reproductive growth is
stopped.</p></dd>


<dt><code>last_DOY_for_initial_cut</code></dt>
<dd><p><a href="autocut.html">autocut</a> Start cutting after this DOY,
even if yield target is not reached.</p></dd>


<dt><code>max_cut_period</code></dt>
<dd><p><a href="autocut.html">autocut</a> Maximum period to wait between
subsequent cuts.</p></dd>


<dt><code>dry_precipitation_limit</code></dt>
<dd><p><a href="autocut.html">autocut</a> Maximum amount of allowed
precipitation (mm) to consider a day.</p></dd>


<dt><code>dry_days_before_cut</code></dt>
<dd><p><a href="autocut.html">autocut</a> Number of days that shold be dry
before a cut is made.</p></dd>


<dt><code>dry_days_after_cut</code></dt>
<dd><p><a href="autocut.html">autocut</a> Number of days that shold be dry
after a cut is made.</p></dd>


<dt><code>max_cut_delay</code></dt>
<dd><p><a href="autocut.html">autocut</a> Number of days a farmer is willing to
wait for dry conditions before a cut is made anyways.</p></dd>


<dt><code>cut_delays</code></dt>
<dd><p><a href="autocut.html">autocut</a> Vector to keep track of cut delay times.
wait for dry conditions before a cut is made anyways.</p></dd>


<dt><code>dry_window</code></dt>
<dd><p><a href="autocut.html">autocut</a> Logical that indicates if DOY at index is
considered dry enough to cut.</p></dd>


<dt><code>target_biomass</code></dt>
<dd><p><a href="autocut.html">autocut</a> Biomass amount that should to be reached
by given DOY for a cut to be made.</p></dd>


<dt><code>end_of_cutting_season</code></dt>
<dd><p><a href="autocut.html">autocut</a> Determined DOY after which no
more cuts are made.</p></dd>


<dt><code>BM_after_cut</code></dt>
<dd><p><a href="autocut.html">autocut</a> Amount of biomass that remains after a cut
(determined through cut_height and biomass densities BDGV, BDDV, BDGR,
BDDR).</p></dd>


<dt><code>weather</code></dt>
<dd><p>A list created by a <a href="WeatherData.html">WeatherData</a> object's
<code>get_weather_for_year()</code> method.</p></dd>


<dt><code>management</code></dt>
<dd><p>A list containing management data as returned by
<a href="ModvegeEnvironment.html">ModvegeEnvironment</a>'s <code>get_environment_for_year()</code> method. If its
<code>is_empty</code> field is <code>TRUE</code>, the <a href="autocut.html">autocut</a> routine will be employed.</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-ModvegeSite-new"><code>ModvegeSite$new()</code></a></p></li>
<li><p><a href="#method-ModvegeSite-get_weather"><code>ModvegeSite$get_weather()</code></a></p></li>
<li><p><a href="#method-ModvegeSite-get_management"><code>ModvegeSite$get_management()</code></a></p></li>
<li><p><a href="#method-ModvegeSite-set_SGS_method"><code>ModvegeSite$set_SGS_method()</code></a></p></li>
<li><p><a href="#method-ModvegeSite-determine_cut_from_input"><code>ModvegeSite$determine_cut_from_input()</code></a></p></li>
<li><p><a href="#method-ModvegeSite-determine_cut_automatically"><code>ModvegeSite$determine_cut_automatically()</code></a></p></li>
<li><p><a href="#method-ModvegeSite-get_target_biomass"><code>ModvegeSite$get_target_biomass()</code></a></p></li>
<li><p><a href="#method-ModvegeSite-run"><code>ModvegeSite$run()</code></a></p></li>
<li><p><a href="#method-ModvegeSite-write_output"><code>ModvegeSite$write_output()</code></a></p></li>
<li><p><a href="#method-ModvegeSite-set_parameters"><code>ModvegeSite$set_parameters()</code></a></p></li>
<li><p><a href="#method-ModvegeSite-plot"><code>ModvegeSite$plot()</code></a></p></li>
<li><p><a href="#method-ModvegeSite-plot_bm"><code>ModvegeSite$plot_bm()</code></a></p></li>
<li><p><a href="#method-ModvegeSite-plot_limitations"><code>ModvegeSite$plot_limitations()</code></a></p></li>
<li><p><a href="#method-ModvegeSite-plot_water"><code>ModvegeSite$plot_water()</code></a></p></li>
<li><p><a href="#method-ModvegeSite-plot_growth"><code>ModvegeSite$plot_growth()</code></a></p></li>
<li><p><a href="#method-ModvegeSite-plot_var"><code>ModvegeSite$plot_var()</code></a></p></li>
<li><p><a href="#method-ModvegeSite-clone"><code>ModvegeSite$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-ModvegeSite-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Constructor</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/ModvegeSite.html">ModvegeSite</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">parameters</span>, site_name <span class="op">=</span> <span class="st">"-"</span>, run_name <span class="op">=</span> <span class="st">"-"</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>parameters</code></dt>
<dd><p>A <a href="ModvegeParameters.html">ModvegeParameters</a> object.</p></dd>


<dt><code>site_name</code></dt>
<dd><p>string Name of the simulated site.</p></dd>


<dt><code>run_name</code></dt>
<dd><p>string Name of the simulation run. Used to
differentiate between different simulation conditions at the same site.
Defaults to "-", which indicates no specific run name.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-ModvegeSite-get_weather"></a><div class="section">
<h3 id="method-get-weather-">Method <code>get_weather()</code><a class="anchor" aria-label="anchor" href="#method-get-weather-"></a></h3>
<p>Return weather data if it exists</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ModvegeSite</span><span class="op">$</span><span class="fu">get_weather</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>The WeatherData object, if it exists.</p>
</div>

</div><p></p><hr><a id="method-ModvegeSite-get_management"></a><div class="section">
<h3 id="method-get-management-">Method <code>get_management()</code><a class="anchor" aria-label="anchor" href="#method-get-management-"></a></h3>
<p>Return management data if it exists</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ModvegeSite</span><span class="op">$</span><span class="fu">get_management</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>The ManagementData object, if it exists.</p>
</div>

</div><p></p><hr><a id="method-ModvegeSite-set_SGS_method"></a><div class="section">
<h3 id="method-set-sgs-method-">Method <code>set_SGS_method()</code><a class="anchor" aria-label="anchor" href="#method-set-sgs-method-"></a></h3>
<p>Choose which method to be used for determination of SGS</p>
<p>Options for the determination of the start of growing season (SGS) are:</p><dl><dt>MTD</dt>
<dd><p>Multicriterial thermal definition,
<code><a href="start_of_growing_season_mtd.html">start_of_growing_season_mtd()</a></code></p></dd>

<dt>simple</dt>
<dd><p>Commonly used, simple SGS definition based on
temperature sum, <code><a href="start_of_growing_season.html">start_of_growing_season()</a></code></p></dd>


</dl><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ModvegeSite</span><span class="op">$</span><span class="fu">set_SGS_method</span><span class="op">(</span><span class="va">method</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>method</code></dt>
<dd><p>str Name of the method to use. Options: "MTD", "simple".</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>none</p>
</div>

</div><p></p><hr><a id="method-ModvegeSite-determine_cut_from_input"></a><div class="section">
<h3 id="method-determine-cut-from-input-">Method <code>determine_cut_from_input()</code><a class="anchor" aria-label="anchor" href="#method-determine-cut-from-input-"></a></h3>
<p>Read from the input whether a cut occurs on day <em>DOY</em>.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ModvegeSite</span><span class="op">$</span><span class="fu">determine_cut_from_input</span><span class="op">(</span><span class="va">DOY</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>DOY</code></dt>
<dd><p>Integer day of the year for which to check.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p>Boolean <code>TRUE</code> if a cut happens on day <em>DOY</em>.</p>
</div>

</div><p></p><hr><a id="method-ModvegeSite-determine_cut_automatically"></a><div class="section">
<h3 id="method-determine-cut-automatically-">Method <code>determine_cut_automatically()</code><a class="anchor" aria-label="anchor" href="#method-determine-cut-automatically-"></a></h3>
<p>Decide based on simple criteria whether day of year <em>DOY</em> would be a
good day to cut.</p>
<p>This follows an implementation described in
Petersen, Krischan, David Kraus, Pierluigi Calanca, Mikhail A.
Semenov, Klaus Butterbach-Bahl, and Ralf Kiese. “Dynamic Simulation
of Management Events for Assessing Impacts of Climate Change on
Pre-Alpine Grassland Productivity.” European Journal of Agronomy
128 (August 1, 2021): 126306.
https://doi.org/10.1016/j.eja.2021.126306.</p>
<p>The decision to cut is made based on two criteria.
First, it is checked whether a <em>target biomass</em> is reached on given
DOY. The defined target depends on the DOY and is given through
:func:<code>get_target_biomass</code>. If said biomass is present, return <code>TRUE</code>.</p>
<p>Otherwise, it is checked whether a given amount of time has passed
since the last cut. Depending on whether this is the first cut of
the season or not, the relevant parameters are
:int:<code>last_DOY_for_initial_cut</code> and :int:<code>max_cut_period</code>.
If that amount of time has passed, return <code>TRUE</code>, otherwise return
<code>FALSE</code>.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ModvegeSite</span><span class="op">$</span><span class="fu">determine_cut_automatically</span><span class="op">(</span><span class="va">DOY</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>DOY</code></dt>
<dd><p>Integer day of the year for which to make a cut decision.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p>Boolean <code>TRUE</code> if a cut happens on day <em>DOY</em>.</p>
</div>

</div><p></p><hr><a id="method-ModvegeSite-get_target_biomass"></a><div class="section">
<h3 id="method-get-target-biomass-">Method <code>get_target_biomass()</code><a class="anchor" aria-label="anchor" href="#method-get-target-biomass-"></a></h3>
<p>Get target value of biomass on given <em>DOY</em>, which determines whether
a cut is to occur.</p>
<p>The regression for the target biomass is based on Fig. S2 in the
supplementary material of
Petersen, Krischan, David Kraus, Pierluigi Calanca, Mikhail A.
Semenov, Klaus Butterbach-Bahl, and Ralf Kiese. “Dynamic Simulation
of Management Events for Assessing Impacts of Climate Change on
Pre-Alpine Grassland Productivity.” European Journal of Agronomy
128 (August 1, 2021): 126306.
https://doi.org/10.1016/j.eja.2021.126306.</p>
<p>A refinement to expected yield as function of altitude has been
implemented according to Table 1a in
Huguenen-Elie et al. "Düngung von Grasland", Agrarforschung Schweiz,
8, (6), 2017,
https://www.agrarforschungschweiz.ch/2017/06/9-duengung-von-grasland-grud-2017/</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ModvegeSite</span><span class="op">$</span><span class="fu">get_target_biomass</span><span class="op">(</span><span class="va">DOY</span>, intensity <span class="op">=</span> <span class="st">"high"</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>DOY</code></dt>
<dd><p>Integer day of the year to consider.</p></dd>


<dt><code>intensity</code></dt>
<dd><p>One of ("high", "middle", "low") specifying
management intensity.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-5">Returns<a class="anchor" aria-label="anchor" href="#returns-5"></a></h4>
<p>target Biomass (kg / ha) that should be reached on day <em>DOY</em>
for this management <em>intensity</em>.</p>
</div>

</div><p></p><hr><a id="method-ModvegeSite-run"></a><div class="section">
<h3 id="method-run-">Method <code>run()</code><a class="anchor" aria-label="anchor" href="#method-run-"></a></h3>
<p>Carry out a ModVege simulation for one year.</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ModvegeSite</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span><span class="va">year</span>, <span class="va">weather</span>, <span class="va">management</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>year</code></dt>
<dd><p>Integer specifying the year to consider.</p></dd>


<dt><code>weather</code></dt>
<dd><p>Weather list for given year as returned by
<a href="WeatherData.html">WeatherData</a><code>$get_weather_for_year</code>.</p></dd>


<dt><code>management</code></dt>
<dd><p>Management list for given year as provided by
<a href="ModvegeEnvironment.html">ModvegeEnvironment</a><code>$get_environment_for_year()</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-6">Returns<a class="anchor" aria-label="anchor" href="#returns-6"></a></h4>
<p>None Fills the state variables of this instance with the
simulated values. Access them programmatically or write them to
file using <code>write_output()</code>.</p>
</div>

</div><p></p><hr><a id="method-ModvegeSite-write_output"></a><div class="section">
<h3 id="method-write-output-">Method <code>write_output()</code><a class="anchor" aria-label="anchor" href="#method-write-output-"></a></h3>
<p>Write values of ModVege results into given file.</p>
<p>A header with metadata is prepended to the actual data.</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ModvegeSite</span><span class="op">$</span><span class="fu">write_output</span><span class="op">(</span><span class="va">filename</span>, force <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>filename</code></dt>
<dd><p>Path or name of filename to be created or overwritten.</p></dd>


<dt><code>force</code></dt>
<dd><p>Boolean If <code>TRUE</code>, do not prompt user before writing.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-7">Returns<a class="anchor" aria-label="anchor" href="#returns-7"></a></h4>
<p>None Writes simulation results to file <em>filename</em>.</p>
</div>

</div><p></p><hr><a id="method-ModvegeSite-set_parameters"></a><div class="section">
<h3 id="method-set-parameters-">Method <code>set_parameters()</code><a class="anchor" aria-label="anchor" href="#method-set-parameters-"></a></h3>
<p>Savely update the values in <code>self$parameters</code>.</p>
<p>This is just a shorthand to the underlying <code>ModvegeParameters</code>
object's <code>set_parameters()</code> function. Special care is taken to
account for potential changes to functional group weights.</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ModvegeSite</span><span class="op">$</span><span class="fu">set_parameters</span><span class="op">(</span><span class="va">params</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>params</code></dt>
<dd><p>List of name-value pairs of the parameters to update.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-8">Returns<a class="anchor" aria-label="anchor" href="#returns-8"></a></h4>
<p>None Updates this object's parameter values.</p>
</div>

</div><p></p><hr><a id="method-ModvegeSite-plot"></a><div class="section">
<h3 id="method-plot-">Method <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code><a class="anchor" aria-label="anchor" href="#method-plot-"></a></h3>
<p>Create an overview plot for 16 state variables.</p>
<p>Creates a simple base R plot showing the temporal evolution of 16
modeled state variables.</p>
<p>Can only be sensibly run <em>after</em> a simulation has been carried out,
i.e. after this instance's <code>run()</code> method has been called.</p><div class="section">
<h4 id="usage-10">Usage<a class="anchor" aria-label="anchor" href="#usage-10"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ModvegeSite</span><span class="op">$</span><span class="fu">plot</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-8">Arguments<a class="anchor" aria-label="anchor" href="#arguments-8"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>Further arguments are discarded.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-9">Returns<a class="anchor" aria-label="anchor" href="#returns-9"></a></h4>
<p>NULL Creates a plot of the result in the active device.</p>
</div>

</div><p></p><hr><a id="method-ModvegeSite-plot_bm"></a><div class="section">
<h3 id="method-plot-bm-">Method <code>plot_bm()</code><a class="anchor" aria-label="anchor" href="#method-plot-bm-"></a></h3>
<p>Create an overview plot for biomass.</p>
<p>Creates a simple base R plot showing the BM with cutting events and,
if applicable, target biomass, dBM, cBM and hvBM.
Can only be sensibly run <em>after</em> a simulation has been carried out,
i.e. after this instance's <code>run()</code> method has been called.</p><div class="section">
<h4 id="usage-11">Usage<a class="anchor" aria-label="anchor" href="#usage-11"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ModvegeSite</span><span class="op">$</span><span class="fu">plot_bm</span><span class="op">(</span>smooth_interval <span class="op">=</span> <span class="fl">28</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-9">Arguments<a class="anchor" aria-label="anchor" href="#arguments-9"></a></h4>
<p></p><div class="arguments"><dl><dt><code>smooth_interval</code></dt>
<dd><p>Int. Number of days over which the variable
<code>dBM</code> is smoothened.</p></dd>


<dt><code>...</code></dt>
<dd><p>Further arguments are discarded.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-10">Returns<a class="anchor" aria-label="anchor" href="#returns-10"></a></h4>
<p>NULL Creates a plot of the result in the active device.</p>
</div>

</div><p></p><hr><a id="method-ModvegeSite-plot_limitations"></a><div class="section">
<h3 id="method-plot-limitations-">Method <code>plot_limitations()</code><a class="anchor" aria-label="anchor" href="#method-plot-limitations-"></a></h3>
<p>Create an overview plot of limiting factors.</p>
<p>Creates a simple base R plot showing the different environmental
limitation functions over time.
Can only be sensibly run <em>after</em> a simulation has been carried out,
i.e. after this instance's <code>run()</code> method has been called.</p><div class="section">
<h4 id="usage-12">Usage<a class="anchor" aria-label="anchor" href="#usage-12"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ModvegeSite</span><span class="op">$</span><span class="fu">plot_limitations</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-10">Arguments<a class="anchor" aria-label="anchor" href="#arguments-10"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>Further arguments are discarded.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-11">Returns<a class="anchor" aria-label="anchor" href="#returns-11"></a></h4>
<p>NULL Creates a plot of the result in the active device.</p>
</div>

</div><p></p><hr><a id="method-ModvegeSite-plot_water"></a><div class="section">
<h3 id="method-plot-water-">Method <code>plot_water()</code><a class="anchor" aria-label="anchor" href="#method-plot-water-"></a></h3>
<p>Create an overview plot of the water balance.</p>
<p>Creates a simple base R plot showing different variables pertaining to
the water balance, namely water reserves <em>WR</em>, actual
evapotranspiration <em>AET</em>, leaf area index <em>LAI</em> and LAI of the green
vegetative compartment <em>LAIGV</em>.</p>
<p>Can only be sensibly run <em>after</em> a simulation has been carried out,
i.e. after this instance's <code>run()</code> method has been called.</p><div class="section">
<h4 id="usage-13">Usage<a class="anchor" aria-label="anchor" href="#usage-13"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ModvegeSite</span><span class="op">$</span><span class="fu">plot_water</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-11">Arguments<a class="anchor" aria-label="anchor" href="#arguments-11"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>Further arguments are discarded.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-12">Returns<a class="anchor" aria-label="anchor" href="#returns-12"></a></h4>
<p>NULL Creates a plot of the result in the active device.</p>
</div>

</div><p></p><hr><a id="method-ModvegeSite-plot_growth"></a><div class="section">
<h3 id="method-plot-growth-">Method <code>plot_growth()</code><a class="anchor" aria-label="anchor" href="#method-plot-growth-"></a></h3>
<p>Create an overview plot of growth dynamics.</p>
<p>Creates a simple base R plot showing different variables pertaining to
the growth dynamics, namely potential growth <em>PGRO</em>, effective
growth <em>GRO</em>, the reproductive function <em>REP</em> and the temperature
sum <em>ST</em>.</p>
<p>Can only be sensibly run <em>after</em> a simulation has been carried out,
i.e. after this instance's <code>run()</code> method has been called.</p><div class="section">
<h4 id="usage-14">Usage<a class="anchor" aria-label="anchor" href="#usage-14"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ModvegeSite</span><span class="op">$</span><span class="fu">plot_growth</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-12">Arguments<a class="anchor" aria-label="anchor" href="#arguments-12"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>Further arguments are discarded.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-13">Returns<a class="anchor" aria-label="anchor" href="#returns-13"></a></h4>
<p>NULL Creates a plot of the result in the active device.</p>
</div>

</div><p></p><hr><a id="method-ModvegeSite-plot_var"></a><div class="section">
<h3 id="method-plot-var-">Method <code>plot_var()</code><a class="anchor" aria-label="anchor" href="#method-plot-var-"></a></h3>
<p>Plot the temporal evolution of a modeled state variable.</p><div class="section">
<h4 id="usage-15">Usage<a class="anchor" aria-label="anchor" href="#usage-15"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ModvegeSite</span><span class="op">$</span><span class="fu">plot_var</span><span class="op">(</span><span class="va">var</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-13">Arguments<a class="anchor" aria-label="anchor" href="#arguments-13"></a></h4>
<p></p><div class="arguments"><dl><dt><code>var</code></dt>
<dd><p>String. Name of the state variable to plot.</p></dd>


<dt><code>...</code></dt>
<dd><p>Further arguments are passed to the base <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-14">Returns<a class="anchor" aria-label="anchor" href="#returns-14"></a></h4>
<p>None, but plots to the current device.</p>
</div>

</div><p></p><hr><a id="method-ModvegeSite-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-16">Usage<a class="anchor" aria-label="anchor" href="#usage-16"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ModvegeSite</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-14">Arguments<a class="anchor" aria-label="anchor" href="#arguments-14"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kevin Kramer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

